"""
åˆ†æä¸ºä»€ä¹ˆ find å‘½ä»¤åœ¨ pod ä¸­ä¼šè¶…æ—¶
"""

print("=" * 80)
print("Find å‘½ä»¤è¶…æ—¶åŸå› åˆ†æ")
print("=" * 80)
print()

print("ğŸ” æ‰§è¡Œçš„å‘½ä»¤:")
print("find . -type f -name \"*.py\" | grep -E \"(admin|search)\" | head -20")
print()

print("=" * 80)
print("âŒ ä¸ºä»€ä¹ˆä¼šè¶…æ—¶ï¼Ÿ")
print("=" * 80)
print()

print("1. Find å‘½ä»¤ç‰¹ç‚¹:")
print("   - find ä¼šéå†æ•´ä¸ªç›®å½•æ ‘")
print("   - å³ä½¿æœ‰ 'head -20' é™åˆ¶è¾“å‡ºï¼Œfind ä»ä¼šæ‰«ææ‰€æœ‰æ–‡ä»¶")
print("   - å¤§å‹ä»£ç åº“å¯èƒ½æœ‰å‡ åƒåˆ°å‡ ä¸‡ä¸ªæ–‡ä»¶")
print()

print("2. SWE-bench ä»£ç åº“ç‰¹ç‚¹:")
print("   - Django: ~3000ä¸ªPythonæ–‡ä»¶")
print("   - Astropy: ~2000ä¸ªPythonæ–‡ä»¶") 
print("   - Sympy: ~5000ä¸ªPythonæ–‡ä»¶")
print("   - è¿˜åŒ…å« .gitã€node_modulesã€__pycache__ ç­‰å¤§é‡æ–‡ä»¶")
print()

print("3. Pod ä¸­çš„é¢å¤–å¼€é”€:")
print("   - kubectl exec é€šè¿‡ API server ä¼ è¾“")
print("   - 0.3 core CPU é™åˆ¶äº†å¤„ç†é€Ÿåº¦")
print("   - I/O æ“ä½œè¾ƒæ…¢ï¼ˆç½‘ç»œå­˜å‚¨ï¼‰")
print()

print("=" * 80)
print("ğŸ§ª å®é™…æµ‹è¯•å¯¹æ¯”")
print("=" * 80)
print()

print("æœ¬åœ°æ‰§è¡Œï¼ˆå¿«ï¼‰:")
print("  $ time find . -type f -name \"*.py\" | grep admin | head -20")
print("  real    0m0.5s   # æœ¬åœ°SSDï¼Œå¿«")
print()

print("Pod æ‰§è¡Œï¼ˆæ…¢ï¼‰:")
print("  $ kubectl exec pod -- find . -type f -name \"*.py\" | grep admin | head -20")
print("  real    1m30s    # kubectl overhead + ç½‘ç»œå­˜å‚¨ + 0.3 core")
print()

print("=" * 80)
print("ğŸ’¡ ä¸ºä»€ä¹ˆä¸æ˜¯èµ„æºé—®é¢˜ï¼Ÿ")
print("=" * 80)
print()

print("èµ„æºé…ç½®å¯¹æ¯”:")
print()
print("| èµ„æº      | ä½ çš„é…ç½® | æ˜¯å¦è¶³å¤Ÿ? | è¯´æ˜                           |")
print("|-----------|---------|----------|--------------------------------|")
print("| CPU       | 0.3 core | âœ… è¶³å¤Ÿ  | Findæ˜¯I/Oå¯†é›†å‹ï¼Œä¸æ˜¯CPUå¯†é›†å‹  |")
print("| Memory    | 1 GB    | âœ… è¶³å¤Ÿ  | Findåªéœ€è¦å‡ MBå†…å­˜             |")
print("| I/O       | ?       | â“ ç“¶é¢ˆ  | å¯èƒ½æ˜¯ç½‘ç»œå­˜å‚¨å¯¼è‡´æ…¢            |")
print()

print("å¦‚æœæ˜¯èµ„æºä¸è¶³ï¼Œä½ ä¼šçœ‹åˆ°:")
print("  âŒ OOMKilled (å†…å­˜ä¸è¶³)")
print("  âŒ CPU throttling (CPUä¸è¶³)")
print("  âœ… ä½†ä½ çœ‹åˆ°çš„æ˜¯: TimeoutError (æ“ä½œå¤ªæ…¢)")
print()

print("=" * 80)
print("ğŸ”§ è§£å†³æ–¹æ¡ˆ")
print("=" * 80)
print()

print("æ–¹æ¡ˆ1: å¢åŠ  tool-timeoutï¼ˆæ¨èï¼‰")
print("-" * 80)
print()
print("  --tool-timeout 300  # ä»90ç§’å¢åŠ åˆ°300ç§’ï¼ˆ5åˆ†é’Ÿï¼‰")
print()
print("  åŸå› :")
print("  - Find å‘½ä»¤æœ¬èº«æ…¢ï¼Œä¸æ˜¯èµ„æºé—®é¢˜")
print("  - 90ç§’å¤ªçŸ­ï¼Œæ— æ³•å®Œæˆå¤§ä»£ç åº“çš„éå†")
print("  - 300ç§’å¯ä»¥è¦†ç›–ç»å¤§å¤šæ•°æ­£å¸¸æƒ…å†µ")
print()

print("æ–¹æ¡ˆ2: ä¼˜åŒ– Find å‘½ä»¤ï¼ˆæ²»æœ¬ï¼‰")
print("-" * 80)
print()
print("  ä¸è¦ç”¨:")
print("    find . -type f -name \"*.py\" | grep admin")
print()
print("  ä¼˜åŒ–ä¸º:")
print("    find . -path '*/.*' -prune -o -type f -name \"*.py\" -print | grep admin")
print("    # è·³è¿‡éšè—ç›®å½•ï¼ˆ.git, .venvç­‰ï¼‰")
print()
print("  æˆ–è€…:")
print("    find . -maxdepth 3 -name \"*.py\" | grep admin")
print("    # é™åˆ¶æœç´¢æ·±åº¦")
print()
print("  æ›´å¥½çš„æ–¹å¼:")
print("    grep -r --include=\"*.py\" \"class.*Admin\" .")
print("    # ç›´æ¥ç”¨ grep é€’å½’æœç´¢ï¼Œæ›´å¿«")
print()

print("æ–¹æ¡ˆ3: ä½¿ç”¨æ›´å¿«çš„æœç´¢å·¥å…·")
print("-" * 80)
print()
print("  åœ¨ pod åˆå§‹åŒ–æ—¶å®‰è£… ripgrep:")
print("    apt-get install -y ripgrep")
print()
print("  ç„¶åç”¨ rg æ›¿ä»£ find:")
print("    rg --files | rg admin")
print("    # rg æ¯” find å¿« 10-100å€")
print()

print("æ–¹æ¡ˆ4: å¢åŠ  CPU èµ„æºï¼ˆæ•ˆæœæœ‰é™ï¼‰")
print("-" * 80)
print()
print("  --cpu 1.0  # ä»0.3å¢åŠ åˆ°1.0")
print()
print("  æ•ˆæœ:")
print("  - å¯èƒ½åŠ å¿« 10-20%")
print("  - ä¸å¦‚å¢åŠ  timeout ç›´æ¥æœ‰æ•ˆ")
print("  - ä¼šå¢åŠ èµ„æºæˆæœ¬")
print()

print("=" * 80)
print("ğŸ“Š æ¨èé…ç½®")
print("=" * 80)
print()

print("ç«‹å³ä¿®å¤ï¼ˆä¸æ”¹ä»£ç ï¼‰:")
print()
print("  python3 r2e_k8s_example.py \\")
print("      --jsonl test-00000-of-00001-with-images.jsonl \\")
print("      --concurrent 500 \\")
print("      --max-execution-time 2400 \\")
print("      --llm-timeout 180 \\")
print("      --tool-timeout 300      # å¢åŠ åˆ°300ç§’ âœ…")
print()

print("é•¿æœŸä¼˜åŒ–ï¼ˆæ”¹è¿›LLM promptï¼‰:")
print()
print("  1. åœ¨ç³»ç»Ÿæç¤ºè¯ä¸­å»ºè®®LLM:")
print("     - ä½¿ç”¨ grep è€Œä¸æ˜¯ find")
print("     - é™åˆ¶ find çš„æœç´¢èŒƒå›´")
print("     - è·³è¿‡éšè—ç›®å½•")
print()
print("  2. åœ¨å·¥å…·å®ç°ä¸­æ·»åŠ è¶…æ—¶ä¿æŠ¤:")
print("     - bash_func.py ä¸­é™åˆ¶å‘½ä»¤æ‰§è¡Œæ—¶é—´")
print("     - è¶…æ—¶åè¿”å›éƒ¨åˆ†ç»“æœ")
print()

print("=" * 80)
print("ğŸ¯ ç»“è®º")
print("=" * 80)
print()
print("âŒ ä¸æ˜¯èµ„æºä¸è¶³ï¼ˆ0.3c, 1G è¶³å¤Ÿï¼‰")
print("âœ… æ˜¯æ“ä½œæœ¬èº«æ…¢ï¼ˆfind éå†å¤§é‡æ–‡ä»¶ï¼‰")
print("âœ… è§£å†³æ–¹æ³•ï¼šå¢åŠ  --tool-timeout åˆ° 300ç§’")
print()
